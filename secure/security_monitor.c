#define FLASH_BASE_ADDR 0x30000000
#define BITCOIN_TASK 0x80200000
#include <stdint.h>

extern void trap_vector();
uint8_t publick_key[32] = {0x03,0x61,0x08,0x2a,0x8a,0x35,0x4c,0xe2,0xad,0xe2,0x98,0x01,0x1d,0x8c,0xcc,0x26,0x93,0xfd,0xa1,0x68,0x97,0x77,0x66,0x37,0x94,0x69,0xc0,0x04,0x80,0x23,0x8a,0x40};

uint8_t private_key[32] = {0x8a, 0x04, 0xba, 0x85, 0xe9, 0x1b, 0x4c, 0x85, 0x4f, 0xc7, 0x78, 0xfa, 0x3e, 0x0d, 0x1a, 0x4d, 0xe5, 0x8b, 0xba, 0xbd, 0x3d, 0xe6, 0x0d, 0xbf, 0x46, 0x16, 0x61, 0x11, 0x6a, 0xf1, 0xc2, 0x79};
void ramdisk_read(){
		uint32_t i = 0;
		for(; i<4096*32;i++){
			*(((volatile uint8_t*)BITCOIN_TASK)+i) = *(((volatile uint8_t*)FLASH_BASE_ADDR)+i);
		}
}

int main(){
	 asm volatile(" auipc t0, 0;"
				   "li 	  t1, 0x64;"
				   "slli  t1, t1, 12;"
				   "add	  t0, t0, t1;" 
				   "csrw	 pmpaddr0, t0;"
				   "li	  t0, 8;"
				   "csrw	 pmpcfg0, t0;"
				   "csrw  mtvec, %0"::"r"(trap_vector):);
	ramdisk_read();
	((void(*)())BITCOIN_TASK)();	   
}
